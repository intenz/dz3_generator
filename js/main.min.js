"use strict";var main=function(){var a=function(){e()},e=function(){$(".table__link").on("click",i),$(document).ready(t),$(document).ready(n),$(document).ready(s),$(document).ready(o),$(document).ready(l)},i=function(a){a.preventDefault();var e=$(this),i=e.data("position"),t=$(".img__wrapp"),n=t.find(".img__watermark-uploaded"),s=t.find(".img__main-uploaded"),o=e.closest(".table__cell"),l=$(".positioning__table").find(".table__cell"),c=(n.css({left:"",top:""}),$("#input-X")),r=$("#input-Y"),d=0,v=Math.round(s.width()/2-n.width()/2),u=Math.round(s.width()-n.width()),p=Math.round(s.height()/2-n.height()/2),_=Math.round(s.height()-n.height()),g=function(a){n.css("left",a+"px")},m=function(a){n.css("top",a+"px")};if(n.length)switch(i){case"position-1":l.removeClass("active"),o.addClass("active"),g(d),m(d),c.val(d),r.val(d);break;case"position-2":l.removeClass("active"),o.addClass("active"),g(v),m(d),c.val(v),r.val(d);break;case"position-3":l.removeClass("active"),o.addClass("active"),g(u),m(d),c.val(u),r.val(d);break;case"position-4":l.removeClass("active"),o.addClass("active"),g(d),m(p),c.val(d),r.val(p);break;case"position-5":l.removeClass("active"),o.addClass("active"),g(v),m(p),c.val(v),r.val(p);break;case"position-6":l.removeClass("active"),o.addClass("active"),g(u),m(p),c.val(u),r.val(p);break;case"position-7":l.removeClass("active"),o.addClass("active"),g(d),m(_),c.val(d),r.val(_);break;case"position-8":l.removeClass("active"),o.addClass("active"),g(v),m(_),c.val(v),r.val(_);break;case"position-9":l.removeClass("active"),o.addClass("active"),g(u),m(_),c.val(u),r.val(_)}},t=function(){var a=$(".img__wrapp"),e=a.find(".img__watermark-uploaded");e.on("load",function(){var e=a.find(".img__watermark-uploaded"),i=a.find(".img__main-uploaded"),t=Math.round(i.width()/2-e.width()/2),n=Math.round(i.height()/2-e.height()/2),s=Math.round(i.width()-e.width()),o=Math.round(i.height()-e.height()),l=$("#input-X"),c=$("#input-Y"),r=function(a){e.css("left",a+"px")},d=function(a){e.css("top",a+"px")},v=function(){r(t),d(n),l.val(t),c.val(n),$(".table__cell:eq(4)").addClass("active")},l=$("#input-X").spinner({min:0,max:s}),c=$("#input-Y").spinner({min:0,max:o}),u=($(".table__cell"),$(".positioning__table").find(".table__cell")),p=0;v(),$(".opacity__button-input-res").click(function(){v(),$(".controls__input").removeAttr("aria-valuenow"),$(".table__link").parent().removeClass("active"),$('[data-position="position-5"]').parent().addClass("active"),$("#slider").slider("value",100),$("#draggable").css({opacity:1})}),l.on("spin",function(a,i){var t=i.value;e.css({left:t+"px"})}),c.on("spin",function(a,i){var t=i.value;e.css({top:t+"px"})}),l.on("change",function(a){a.preventDefault();var i=$(this).val();i>s?(e.css({left:s+"px"}),l.val(s)):p>i?(e.css({left:p+"px"}),l.val(p)):isNaN(i)?(e.css({left:p+"px"}),l.val(p)):e.css({left:i+"px"}),u.removeClass("active")}),c.on("change",function(a){a.preventDefault();var i=$(this).val();i>o?(e.css({top:o+"px"}),c.val(o)):p>i?(e.css({top:p+"px"}),c.val(p)):isNaN(i)?(e.css({top:p+"px"}),c.val(p)):e.css({top:i+"px"}),u.removeClass("active")})})},n=function(){var a=$("#input-X"),e=$("#input-Y"),i=$(".img__wrapp"),t=i.find(".img__watermark-uploaded"),n=(t.position(),$(".positioning__table").find(".table__cell"));t.length&&$("#draggable").draggable({cursor:"move",containment:".img__main",start:function(){n.removeClass("active")},drag:function(i,t){a.val(Math.round(t.position.left)),e.val(Math.round(t.position.top))}})},s=function(){$(".sidebar-social__like").hover(function(){$(".sidebar-social__list").stop(!0,!0).toggle(600),$(".sidebar-social__list").mouseleave(function(){$(".sidebar-social__list").hide(600)})},function(){return!1})},o=function(){$("#slider").slider({orientation:"horizontal",range:"min",min:0,max:100,value:100,slide:function(a,e){var i=e.value/100;$("#draggable").css({opacity:i})}}),$("#amount").val($("#slider").slider("value")),$(".opacity__button-input-load").click(function(){html2canvas($(".img__wrapp"),{onrendered:function(a){document.body.appendChild(a),Canvas2Image.saveAsPNG(a),document.body.removeChild(a)}})})},l=function(){var a={getCookie:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:!1},setCookie:function(a,e,i){var t;if(i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3),t="; expires="+n.toGMTString()}else t="";document.cookie=a+"="+e+t+"; path=/"}},e=a.getCookie("lang"),i={en:".lang-en",ru:".lang-ru"};"en"==e?($(i.en).show(),$(i.ru).hide()):($(i.en).hide(),$(i.ru).show()),$(".sidebar-lang__eng a").on("click",function(){a.setCookie("lang","en",1),$(i.en).show(),$(i.ru).hide(),$(".sidebar-lang__rus").removeClass("active-lang"),$(".sidebar-lang__eng").addClass("active-lang")}),$(".sidebar-lang__rus a").on("click",function(){a.setCookie("lang","ru",1),$(i.en).hide(),$(i.ru).show(),$(".sidebar-lang__eng").removeClass("active-lang"),$(".sidebar-lang__rus").addClass("active-lang")}),$(".sidebar-lang__rus").addClass("active-lang")};return{init:a}}();main.init();