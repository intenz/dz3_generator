"use strict";var main=function(){var a=function(){e()},e=function(){$(".table__link").on("click",i),$(document).ready(n),$(document).ready(t),$(document).ready(o),$(document).ready(s),$(document).ready(l)},i=function(a){a.preventDefault();var e=$(this),i=e.data("position"),n=$(".img__wrapp"),t=n.find(".img__watermark-uploaded"),o=n.find(".img__main-uploaded"),s=e.closest(".table__cell"),l=$(".positioning__table").find(".table__cell"),c=(t.css({left:"",top:""}),$("#input-X")),r=$("#input-Y"),d=0,v=Math.round(o.width()/2-t.width()/2),u=Math.round(o.width()-t.width()),p=Math.round(o.height()/2-t.height()/2),_=Math.round(o.height()-t.height()),g=function(a){t.css("left",a+"px")},m=function(a){t.css("top",a+"px")};if(t.length)switch(i){case"position-1":l.removeClass("active"),s.addClass("active"),g(d),m(d),c.val(d),r.val(d);break;case"position-2":l.removeClass("active"),s.addClass("active"),g(v),m(d),c.val(v),r.val(d);break;case"position-3":l.removeClass("active"),s.addClass("active"),g(u),m(d),c.val(u),r.val(d);break;case"position-4":l.removeClass("active"),s.addClass("active"),g(d),m(p),c.val(d),r.val(p);break;case"position-5":l.removeClass("active"),s.addClass("active"),g(v),m(p),c.val(v),r.val(p);break;case"position-6":l.removeClass("active"),s.addClass("active"),g(u),m(p),c.val(u),r.val(p);break;case"position-7":l.removeClass("active"),s.addClass("active"),g(d),m(_),c.val(d),r.val(_);break;case"position-8":l.removeClass("active"),s.addClass("active"),g(v),m(_),c.val(v),r.val(_);break;case"position-9":l.removeClass("active"),s.addClass("active"),g(u),m(_),c.val(u),r.val(_)}},n=function(){var a=$(".img__wrapp"),e=a.find(".img__watermark-uploaded");e.on("load",function(){var e=a.find(".img__watermark-uploaded"),i=a.find(".img__main-uploaded"),n=Math.round(i.width()/2-e.width()/2),t=Math.round(i.height()/2-e.height()/2),o=Math.round(i.width()-e.width()),s=Math.round(i.height()-e.height()),l=$("#input-X"),c=$("#input-Y"),r=function(a){e.css("left",a+"px")},d=function(a){e.css("top",a+"px")},v=function(){r(n),d(t),l.val(n),c.val(t),$(".table__cell:eq(4)").addClass("active")},l=$("#input-X").spinner({min:0,max:o}),c=$("#input-Y").spinner({min:0,max:s}),u=$(".positioning__table").find(".table__cell");v(),$(".opacity__button-input-res").click(function(){v(),$(".controls__input").removeAttr("aria-valuenow"),$(".table__link").parent().removeClass("active"),$('[data-position="position-5"]').parent().addClass("active"),$("#slider").slider("value",100),$("#draggable").css({opacity:1})}),l.on("spin",function(a,i){var n=i.value;e.css({left:n+"px"})}),c.on("spin",function(a,i){var n=i.value;e.css({top:n+"px"})}),l.on("change",function(a){a.preventDefault();var i=$(this).val();i>o?(e.css({left:o+"px"}),l.val(o)):e.css({left:i+"px"}),u.removeClass("active")}),c.on("change",function(a){a.preventDefault();var i=$(this).val();i>s?(e.css({top:s+"px"}),c.val(s)):e.css({top:i+"px"}),u.removeClass("active")})})},t=function(){var a=$("#input-X"),e=$("#input-Y"),i=$(".img__wrapp"),n=i.find(".img__watermark-uploaded"),t=(n.position(),$(".positioning__table").find(".table__cell"));n.length&&$("#draggable").draggable({cursor:"move",containment:".img__main",start:function(){t.removeClass("active")},drag:function(i,n){a.val(Math.round(n.position.left)),e.val(Math.round(n.position.top))}})},o=function(){$(".sidebar-social__like").hover(function(){$(".sidebar-social__list").stop(!0,!0).toggle(600),$(".sidebar-social__list").mouseleave(function(){$(".sidebar-social__list").hide(600)})},function(){return!1})},s=function(){$("#slider").slider({orientation:"horizontal",range:"min",min:0,max:100,value:100,slide:function(a,e){var i=e.value/100;$("#draggable").css({opacity:i})}}),$("#amount").val($("#slider").slider("value")),$(".opacity__button-input-load").click(function(){html2canvas($(".img__wrapp"),{onrendered:function(a){document.body.appendChild(a),Canvas2Image.saveAsPNG(a),document.body.removeChild(a)}})})},l=function(){var a={getCookie:function(a){return a?decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null:!1},setCookie:function(a,e,i){var n;if(i){var t=new Date;t.setTime(t.getTime()+24*i*60*60*1e3),n="; expires="+t.toGMTString()}else n="";document.cookie=a+"="+e+n+"; path=/"}},e=a.getCookie("lang"),i={en:".lang-en",ru:".lang-ru"};"en"==e?($(i.en).show(),$(i.ru).hide()):($(i.en).hide(),$(i.ru).show()),$(".sidebar-lang__eng a").on("click",function(){a.setCookie("lang","en",1),$(i.en).show(),$(i.ru).hide(),$(".sidebar-lang__rus").removeClass("active-lang"),$(".sidebar-lang__eng").addClass("active-lang")}),$(".sidebar-lang__rus a").on("click",function(){a.setCookie("lang","ru",1),$(i.en).hide(),$(i.ru).show(),$(".sidebar-lang__eng").removeClass("active-lang"),$(".sidebar-lang__rus").addClass("active-lang")}),$(".sidebar-lang__rus").addClass("active-lang")};return{init:a}}();main.init();